<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="./js/echarts.common.min.js"></script>
    <script type="text/javascript" src="./js/jquery-3.2.1.min.js"></script>
</head>
<body>
<div id="pie" style="width: 500px; height: 300px"></div>
<script>
    var pieCharts = echarts.init(document.getElementById("pie"))
    pieCharts.setOption({
        title:{
            text:'学生成绩',
            subtext: '成绩比',
            x:'center'
        },
        tooltip:{
            trigger:'item',
            formatter:"{a} <br/>{b} : {c} {{d}%}"
        },
        legend:{
            orient:'vertical',
            x:'left',
            data:[]
        },
        toolbox:{
            show:true,
            feature: {
                mark: {show: true},
                dataView: {show: true, readOnly: false},
                magicType: {
                    show:true,
                    type:['pie','funnel'],
                    option: {
                        funnel: {
                            x: '25%',
                            width: '50%',
                            funnelAlign: 'left',
                            max: 1548
                        }
                    }
                },
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },

        calculable:true,
        series:[{
            name:'成绩',
            type:'pie',
            redius:'55%',
            center:['50%','60%'],
            data:[]

        }]

    });
    pieCharts.showLoading();
    $.ajax({
        type:"get",
        async:true,
        url:'getData.do',
        data:[],
        dataType:"json",
        success:function (result) {
            pieCharts.hideLoading();
            pieCharts.setOption({
                title:{
                    text: '学生成绩',
                    subtext:'成绩比',
                    x:'center'
                },
                tooltip: {
                    trigger:'item',
                    formatter:"{a} <br/>{b} : {c} {{d}%}"
                },
                legend: {
                    orient:'vertical',
                    x:'left',
                    data:[]
                },
                toolbox: {
                    show: true,
                    feature: {
                        mark: {show: true},
                        dataView: {show: true, readOnly: false},
                        magicType: {
                            show: true,
                            type: ['pie', 'funnel'],
                            option: {
                                funnel: {
                                    x: '25%',
                                    width: '50%',
                                    funnelAlign: 'left',
                                    max: 1548
                                }
                            }
                        },
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
                calculable:true,
                series:[{
                    name:'成绩',
                    type:'pie',
                    redius:'55%',
                    center:['50%','60%'],
                    data:result

                }]
            })

        }
    })
</script>

</body>
</html>